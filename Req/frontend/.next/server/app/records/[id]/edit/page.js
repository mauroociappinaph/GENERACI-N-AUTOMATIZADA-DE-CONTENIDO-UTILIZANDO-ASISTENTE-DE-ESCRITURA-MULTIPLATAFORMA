(()=>{var e={};e.id=426,e.ids=[426],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91607:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>l}),t(18614),t(18373),t(52593);var i=t(93826),o=t(49930),a=t(42049),n=t.n(a),s=t(88405),c={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);t.d(r,c);let l=["",{children:["records",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18614)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,18373)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,52593,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/[id]/edit/page.tsx"],u="/records/[id]/edit/page",p={require:t,loadChunk:()=>Promise.resolve()},f=new i.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/records/[id]/edit/page",pathname:"/records/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},69793:(e,r,t)=>{Promise.resolve().then(t.bind(t,59066))},59066:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var i=t(31694),o=t(31324),a=t(76344),n=t(42037),s=t(41090),c=t(44374),l=t(77647),d=t(27667),u=t(16546),p=t(54566),f=t(67736);let m=(0,t(35168).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var g=t(52166);function b(){let e=(0,o.useRouter)(),r=(0,o.useParams)().id,{0:t,1:b}=(0,i.useState)(null),{0:v,1:y}=(0,i.useState)(!0),{0:h,1:x}=(0,i.useState)(!1),{0:j,1:O}=(0,i.useState)(null),{0:P,1:w}=(0,i.useState)(!1),{0:E,1:k}=(0,i.useState)(null),S=async r=>{if(t)try{x(!0);let i=await a.c.updateRecord(t.id,r);i.success?((0,p.A)({title:"Registro actualizado",description:"El registro fue actualizado exitosamente."}),e.push(`/records/${t.id}`)):i.error?.code==="EDIT_CONFLICT"?(w(!0),k(i.error.details),(0,p.A)({title:"Conflicto de edici\xf3n detectado",description:"Otro usuario ha modificado este registro. Resuelva el conflicto para continuar.",variant:"destructive"})):(0,p.A)({title:"Error al actualizar registro",description:i.error?.message||"Error desconocido.",variant:"destructive"})}catch(e){(0,p.A)({title:"Error de conexi\xf3n",description:e instanceof Error?e.message:"Error desconocido.",variant:"destructive"})}finally{x(!1)}},R=async r=>{try{x(!0);let i=await a.c.updateRecord(t.id,r,{forceUpdate:!0});i.success?((0,p.A)({title:"Conflicto resuelto",description:"El registro fue actualizado exitosamente."}),w(!1),k(null),e.push(`/records/${t.id}`)):(0,p.A)({title:"Error al resolver conflicto",description:i.error?.message||"Error desconocido.",variant:"destructive"})}catch(e){(0,p.A)({title:"Error de conexi\xf3n",description:e instanceof Error?e.message:"Error desconocido.",variant:"destructive"})}finally{x(!1)}};return v?g.jsx(c.p,{}):j?g.jsx(l.d,{error:j,onRetry:()=>window.location.reload()}):t?(0,g.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsxs)(u.z,{variant:"outline",size:"sm",onClick:()=>e.back(),className:"flex items-center gap-2",children:[g.jsx(f.Z,{className:"h-4 w-4"}),"Volver"]}),(0,g.jsxs)("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Editar Registro"}),(0,g.jsxs)("p",{className:"text-gray-600 mt-1",children:["ID: ",t.id]})]})]}),P&&E&&(0,g.jsxs)(d.Zb,{className:"border-orange-200 bg-orange-50",children:[g.jsx(d.Ol,{children:(0,g.jsxs)(d.ll,{className:"flex items-center gap-2 text-orange-800",children:[g.jsx(m,{className:"h-5 w-5"}),"Conflicto de Edici\xf3n Detectado"]})}),(0,g.jsxs)(d.aY,{children:[g.jsx("p",{className:"text-orange-700 mb-4",children:"Otro usuario ha modificado este registro mientras usted lo editaba. Revise los cambios y seleccione c\xf3mo resolver el conflicto."}),g.jsx(s.W,{currentData:t,conflictData:E,onResolve:R,onCancel:()=>{w(!1),k(null)},loading:h})]})]}),!P&&(0,g.jsxs)(d.Zb,{children:[g.jsx(d.Ol,{children:g.jsx(d.ll,{children:"Editar Informaci\xf3n del Registro"})}),g.jsx(d.aY,{children:g.jsx(n.v,{initialData:t,onSubmit:S,onCancel:()=>{e.push(`/records/${r}`)},loading:h,submitLabel:"Actualizar Registro"})})]})]}):g.jsx(l.d,{error:"Registro no encontrado",onRetry:()=>e.push("/records")})}},54566:(e,r,t)=>{"use strict";t.d(r,{A:()=>a,p:()=>o});var i=t(38597);let o=()=>({toast:e=>{"destructive"===e.variant?i.ZP.error(e.description||e.title||"Error"):i.ZP.success(e.description||e.title||"Success")}}),a=e=>{"destructive"===e.variant?i.ZP.error(e.description||e.title||"Error"):i.ZP.success(e.description||e.title||"Success")}},35168:(e,r,t)=>{"use strict";t.d(r,{Z:()=>b});var i=t(31694);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),n=e=>{let r=a(e);return r.charAt(0).toUpperCase()+r.slice(1)},s=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),c=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){var i,o;i=r,o=t[r],(i=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let f=(0,i.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:u="",children:f,iconNode:m}=e,g=function(e,r){if(null==e)return{};var t,i,o=function(e,r){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,d);return(0,i.createElement)("svg",p(p(p({ref:r},l),{},{width:o,height:o,stroke:t,strokeWidth:n?24*Number(a)/Number(o):a,className:s("lucide",u)},!f&&!c(g)&&{"aria-hidden":"true"}),g),[...m.map(([e,r])=>(0,i.createElement)(e,r)),...Array.isArray(f)?f:[f]])}),m=["className"];function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}let b=(e,r)=>{let t=(0,i.forwardRef)((t,a)=>{let{className:c}=t,l=function(e,r){if(null==e)return{};var t,i,o=function(e,r){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(t,m);return(0,i.createElement)(f,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){var i,o;i=r,o=t[r],(i=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({ref:a,iconNode:r,className:s(`lucide-${o(n(e))}`,`lucide-${e}`,c)},l))});return t.displayName=n(e),t}},67736:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(35168).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},18614:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});let i=(0,t(87866).createProxy)(String.raw`/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/[id]/edit/page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[588,361,909,741,37,52],()=>t(91607));module.exports=i})();