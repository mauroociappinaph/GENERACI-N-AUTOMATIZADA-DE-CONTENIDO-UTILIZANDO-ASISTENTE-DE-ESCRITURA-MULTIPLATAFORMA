(()=>{var e={};e.id=834,e.ids=[834],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},99632:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>g,tree:()=>c}),t(57981),t(18373),t(52593);var a=t(93826),s=t(49930),i=t(42049),n=t.n(i),o=t(88405),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["records",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,57981)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,18373)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,52593,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/page.tsx"],u="/records/page",p={require:t,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/records/page",pathname:"/records",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73657:(e,r,t)=>{Promise.resolve().then(t.bind(t,73163))},73163:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var a=t(31694),s=t(31324),i=t(76344),n=t(24115),o=t(28377),l=t(27667),c=t(16546),d=t(3113),u=t(54566),p=t(64854),g=t(52166);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach(function(r){var a,s;a=r,s=t[r],(a=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function f(){let e=(0,s.useRouter)(),{0:r,1:t}=(0,a.useState)([]),{0:m,1:f}=(0,a.useState)(!0),{0:h,1:j}=(0,a.useState)(null),{0:y,1:v}=(0,a.useState)(""),{0:b,1:P}=(0,a.useState)({page:1,limit:20,total:0,totalPages:0}),{0:O,1:E}=(0,a.useState)({query:"",filters:{},sortBy:"updatedAt",sortOrder:"desc",page:1,limit:20}),{0:w,1:R}=(0,a.useState)(null),{0:_,1:S}=(0,a.useState)(!1),N=(0,a.useCallback)(async e=>{try{f(!0),j(null);let r=await i.c.getRecords(e);r.success&&r.data?(t(r.data.records),P(r.data.pagination)):j(r.error?.message||"Error al cargar los registros")}catch(e){j("Error de conexi\xf3n al cargar los registros"),e instanceof Error&&j(`Error de conexi\xf3n: ${e.message}`)}finally{f(!1)}},[]),q=e=>{v(e),E(r=>x(x({},r),{},{query:e,page:1}))},C=async()=>{if(w)try{let e=await i.c.deleteRecord(w.id);e.success?((0,u.A)({title:"Registro eliminado",description:`El registro "${w.id}" fue eliminado correctamente.`}),N(O)):(0,u.A)({title:"Error al eliminar",description:e.error?.message||"Error desconocido.",variant:"destructive"})}catch(e){(0,u.A)({title:"Error de conexi\xf3n",description:e instanceof Error?e.message:"Error desconocido.",variant:"destructive"})}finally{S(!1),R(null)}};return(0,g.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center",children:[(0,g.jsxs)("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registros"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Administre y consulte los registros del sistema"})]}),g.jsx(c.z,{onClick:()=>{e.push("/records/new")},children:"Crear Nuevo Registro"})]}),(0,g.jsxs)(l.Zb,{children:[g.jsx(l.Ol,{children:g.jsx(l.ll,{children:"B\xfasqueda y Filtros"})}),(0,g.jsxs)(l.aY,{className:"space-y-4",children:[g.jsx("div",{className:"flex gap-4",children:g.jsx("div",{className:"flex-1",children:g.jsx(d.I,{placeholder:"Buscar registros...",value:y,onChange:e=>q(e.target.value)})})}),g.jsx(o.P,{onFilterChange:e=>{E(r=>x(x({},r),{},{filters:e,page:1}))},currentFilters:O.filters})]})]}),(0,g.jsxs)(l.Zb,{children:[g.jsx(l.Ol,{children:g.jsx("div",{className:"flex justify-between items-center",children:(0,g.jsxs)(l.ll,{children:["Lista de Registros",b.total>0&&(0,g.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",b.total," registros)"]})]})})}),(0,g.jsxs)(l.aY,{children:[h&&g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:h}),g.jsx(n.w,{records:r,loading:m,pagination:b,sortBy:O.sortBy,sortOrder:O.sortOrder,onSortChange:(e,r)=>{E(t=>x(x({},t),{},{sortBy:e,sortOrder:r,page:1}))},onPageChange:e=>{E(r=>x(x({},r),{},{page:e}))},onView:r=>{e.push(`/records/${r}`)},onEdit:r=>{e.push(`/records/${r}/edit`)},onDelete:e=>{R(r.find(r=>r.id===e)||null),S(!0)}})]})]}),g.jsx(p.aR,{open:_,onOpenChange:S,children:(0,g.jsxs)(p._T,{children:[(0,g.jsxs)(p.fY,{children:[g.jsx(p.f$,{children:"\xbfEliminar registro?"}),(0,g.jsxs)(p.yT,{children:["Esta acci\xf3n no se puede deshacer. El registro"," ",g.jsx("span",{className:"font-semibold",children:w?.id||"N/A"})," ","ser\xe1 eliminado permanentemente."]})]}),(0,g.jsxs)(p.xo,{children:[g.jsx(c.z,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),g.jsx(c.z,{variant:"danger",onClick:C,children:"Eliminar"})]})]})})]})}},57981:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(87866).createProxy)(String.raw`/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/records/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[588,361,909,741,951],()=>t(99632));module.exports=a})();