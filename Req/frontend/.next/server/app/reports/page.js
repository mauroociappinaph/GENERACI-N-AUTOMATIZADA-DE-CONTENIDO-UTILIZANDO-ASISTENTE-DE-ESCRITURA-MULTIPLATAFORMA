(()=>{var e={};e.id=882,e.ids=[882],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},26732:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),r(85451),r(18373),r(52593);var s=r(93826),a=r(49930),l=r(42049),i=r.n(l),n=r(88405),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c=["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,85451)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,18373)),"/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,52593,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/reports/page.tsx"],m="/reports/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39745:(e,t,r)=>{Promise.resolve().then(r.bind(r,88792))},88792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var s=r(31694),a=r(27667),l=r(16546),i=r(3113),n=r(34567);class d{async getReportTemplates(){let e=await n.x1.get("/reports/templates");return e.data?.data||[]}async generateReport(e){let t=await n.x1.post("/reports/generate",e);if(!t.data?.success||!t.data?.data)throw Error(t.data?.error?.message||"Failed to generate report");return t.data.data}async previewReport(e,t={}){let r=await n.x1.post("/reports/preview",{templateId:e,parameters:t});if(!r.data?.success||!r.data?.data)throw Error(r.data?.error?.message||"Failed to preview report");return r.data.data}async downloadReport(e){let t=localStorage.getItem("accessToken"),r=await fetch(`http://localhost:3001/reports/download/${e}`,{method:"GET",headers:{Authorization:t?`Bearer ${t}`:""}});if(!r.ok)throw Error("Failed to download report");let s=await r.blob(),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a;let i=r.headers.get("content-disposition"),n=`report-${e}`;if(i){let e=i.match(/filename="(.+)"/);e&&(n=e[1])}l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}async createScheduledReport(e){let t=await n.x1.post("/reports/schedule",e);if(!t.data?.success||!t.data?.data)throw Error(t.data?.error?.message||"Failed to create scheduled report");return t.data.data}async getScheduledReports(){let e=await n.x1.get("/reports/scheduled");return e.data?.data||[]}async updateScheduledReport(e,t){let r=await n.x1.put(`/reports/scheduled/${e}`,t);if(!r.data?.success||!r.data?.data)throw Error(r.data?.error?.message||"Failed to update scheduled report");return r.data.data}async deleteScheduledReport(e){let t=await n.x1.delete(`/reports/scheduled/${e}`);if(!t.data?.success)throw Error(t.data?.error?.message||"Failed to delete scheduled report")}validateCronExpression(e){let t=e.trim().split(/\s+/);return 5===t.length||6===t.length}describeCronExpression(e){return({"0 9 * * *":"Daily at 9:00 AM","0 9 * * 1":"Every Monday at 9:00 AM","0 9 1 * *":"First day of every month at 9:00 AM","0 9 * * 1-5":"Weekdays at 9:00 AM","0 */6 * * *":"Every 6 hours","0 0 * * 0":"Every Sunday at midnight"})[e]||"Custom schedule"}getSuggestedSchedules(){return[{value:"0 9 * * *",label:"Daily",description:"Every day at 9:00 AM"},{value:"0 9 * * 1",label:"Weekly",description:"Every Monday at 9:00 AM"},{value:"0 9 1 * *",label:"Monthly",description:"First day of every month at 9:00 AM"},{value:"0 9 * * 1-5",label:"Weekdays",description:"Monday to Friday at 9:00 AM"},{value:"0 */6 * * *",label:"Every 6 hours",description:"Four times a day"},{value:"0 0 * * 0",label:"Weekly (Sunday)",description:"Every Sunday at midnight"}]}}let c=new d;var o=r(52166);function m({template:e,onClose:t}){return(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,o.jsxs)("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Report Preview"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.name})]}),o.jsx(l.z,{onClick:t,variant:"outline",size:"sm",children:"Close"})]})}function x(){return(0,o.jsxs)("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-600",children:"Loading preview..."})]})}function u({error:e,onRetry:t}){return o.jsx(a.Zb,{className:"p-4 border-red-200 bg-red-50",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-red-500",children:"⚠️"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-red-800 font-medium",children:"Preview Error"}),o.jsx("p",{className:"text-red-600 text-sm",children:e}),o.jsx(l.z,{onClick:t,variant:"outline",size:"sm",className:"mt-2 border-red-300 text-red-700 hover:bg-red-100",children:"Retry"})]})]})})}function p({preview:e}){return(0,o.jsxs)(a.Zb,{className:"p-4 bg-blue-50 border-blue-200",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Total Records:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:e.totalRecords.toLocaleString()})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Preview Records:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:e.previewRecords.toLocaleString()})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Generated:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:new Date(e.generatedAt).toLocaleString()})]})]}),e.previewRecords<e.totalRecords&&(0,o.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Note:"})," This preview shows the first"," ",e.previewRecords," records. The full report will contain all"," ",e.totalRecords.toLocaleString()," records."]})]})}var h=r(30905);function g({preview:e}){if(!e||!e.data.length)return null;let t=Object.keys(e.data[0]),r=t.filter(t=>e.data.some(e=>"number"==typeof e[t]));if(0===r.length)return null;let s=r[0],l=e.data.slice(0,10).map((e,t)=>({name:e.name||e.id||`Item ${t+1}`,value:e[s]||0})),i=t.filter(e=>e.toLowerCase().includes("date")||e.toLowerCase().includes("time")||e.toLowerCase().includes("created"));if(i.length>0&&r.length>0){let t=e.data.slice(0,20).map((e,t)=>({name:new Date(e[i[0]]).toLocaleDateString()||`Point ${t+1}`,value:e[r[0]]||0}));return(0,o.jsxs)(a.Zb,{className:"p-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Visualization"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(h.q9,{data:t,type:"line",title:`${s} Trend`,height:250,showGrid:!0,showLegend:!1,animate:!0})}),o.jsx("div",{children:o.jsx(h.q9,{data:l,type:"bar",title:`${s} Distribution`,height:250,showGrid:!0,showLegend:!1,animate:!0})})]})]})}return(0,o.jsxs)(a.Zb,{className:"p-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Visualization"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(h.q9,{data:l,type:"bar",title:`${s} Values`,height:250,showGrid:!0,showLegend:!1,animate:!0})}),o.jsx("div",{children:o.jsx(h.q9,{data:l,type:"pie",title:`${s} Distribution`,height:250,showLegend:!0,animate:!0})})]})]})}function j({preview:e}){let t=e=>null==e?"-":"boolean"==typeof e?e?"Yes":"No":"object"==typeof e?JSON.stringify(e):String(e);if(!e||!e.data.length)return(0,o.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Data Available"}),o.jsx("p",{className:"text-sm",children:"No data matches the current parameters. Try adjusting your filters or parameters."})]});let r=Object.keys(e.data[0]),s=e.data.slice(0,10);return(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Total Records:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:e.totalRecords.toLocaleString()})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Columns:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:r.length})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Preview Rows:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:s.length})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-blue-800",children:"Generated:"}),o.jsx("span",{className:"ml-2 text-blue-700",children:new Date(e.generatedAt).toLocaleString()})]})]})}),o.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:r.map(e=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,s)=>o.jsx("tr",{className:s%2==0?"bg-white":"bg-gray-50",children:r.map(r=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t(e[r])},r))},s))})]})}),e.data.length>10&&o.jsx("div",{className:"text-center py-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing first ",10," rows of ",e.data.length," preview records. Full report will contain all ",e.totalRecords.toLocaleString()," records."]})})]})}function b({template:e,parameters:t,onClose:r}){let{preview:i,loading:n,error:d,loadPreview:h}=function(e,t){let{0:r,1:a}=(0,s.useState)(null),{0:l,1:i}=(0,s.useState)(!0),{0:n,1:d}=(0,s.useState)(null);return{preview:r,loading:l,error:n,loadPreview:(0,s.useCallback)(async()=>{try{i(!0),d(null);let r=await c.previewReport(e.id,t);a(r)}catch(e){d(e instanceof Error?e.message:"Failed to load preview")}finally{i(!1)}},[e.id,t])}}(e,t);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx(m,{template:e,onClose:r}),(0,o.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[n&&o.jsx(x,{}),d&&o.jsx(u,{error:d,onRetry:h}),i&&!n&&!d&&(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx(p,{preview:i}),o.jsx(g,{preview:i}),o.jsx(a.Zb,{className:"overflow-hidden",children:o.jsx(j,{preview:i})})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[o.jsx(l.z,{onClick:r,variant:"outline",children:"Close"}),i&&o.jsx(l.z,{onClick:()=>{r()},children:"Generate Full Report"})]})]})})}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y({templates:e,onRefresh:t}){let{0:r,1:n}=(0,s.useState)(null),{0:d,1:m}=(0,s.useState)({}),{0:x,1:u}=(0,s.useState)("pdf"),{0:p,1:h}=(0,s.useState)("download"),{0:g,1:j}=(0,s.useState)(""),{0:f,1:y}=(0,s.useState)(!1),{0:N,1:w}=(0,s.useState)(null),{0:C,1:S}=(0,s.useState)(null),{0:D,1:P}=(0,s.useState)(!1),R=e=>{n(e),u(e.formats[0]||"pdf");let t={};e.parameters.forEach(e=>{void 0!==e.defaultValue&&(t[e.name]=e.defaultValue)}),m(t),w(null),S(null)},O=(e,t)=>{m(r=>v(v({},r),{},{[e]:t}))},k=()=>{if(!r)return!1;for(let e of r.parameters)if(e.required&&!d[e.name])return w(`Parameter "${e.label}" is required`),!1;return"email"!==p||!!g||(w("Email address is required for email delivery"),!1)},E=async()=>{if(r&&k())try{y(!0),w(null),await c.previewReport(r.id,d),P(!0)}catch(e){w(e instanceof Error?e.message:"Failed to preview report")}finally{y(!1)}},q=async()=>{if(r&&k())try{y(!0),w(null),S(null);let e={templateId:r.id,parameters:d,format:x,deliveryMethod:p,email:"email"===p?g:void 0},t=await c.generateReport(e);"download"===p?(await c.downloadReport(t.reportId),S("Report generated and downloaded successfully!")):S(`Report generated and sent to ${g}!`)}catch(e){w(e instanceof Error?e.message:"Failed to generate report")}finally{y(!1)}},z=e=>{let t=d[e.name]||"";switch(e.type){case"string":return o.jsx(i.I,{type:"text",value:t,onChange:t=>O(e.name,t.target.value),placeholder:`Enter ${e.label.toLowerCase()}`,required:e.required});case"number":return o.jsx(i.I,{type:"number",value:t,onChange:t=>O(e.name,Number(t.target.value)),placeholder:`Enter ${e.label.toLowerCase()}`,required:e.required});case"date":return o.jsx(i.I,{type:"date",value:t,onChange:t=>O(e.name,t.target.value),required:e.required});case"boolean":return(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:t||!1,onChange:t=>O(e.name,t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]});case"select":return(0,o.jsxs)("select",{value:t,onChange:t=>O(e.name,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:e.required,children:[(0,o.jsxs)("option",{value:"",children:["Select ",e.label.toLowerCase()]}),e.options?.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))]});default:return o.jsx(i.I,{type:"text",value:t,onChange:t=>O(e.name,t.target.value),placeholder:`Enter ${e.label.toLowerCase()}`,required:e.required})}};return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)(a.Zb,{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Report Template"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,o.jsxs)("div",{onClick:()=>R(e),className:`
                p-4 border rounded-lg cursor-pointer transition-colors
                ${r?.id===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
              `,children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:e.name}),e.description&&o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.formats.map(e=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e.toUpperCase()},e))})]},e.id))})]}),r&&(0,o.jsxs)(a.Zb,{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Configure Report"}),r.parameters.length>0&&(0,o.jsxs)("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"Parameters"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.parameters.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),z(e)]},e.name))})]}),(0,o.jsxs)("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"Output Format"}),o.jsx("div",{className:"flex space-x-4",children:r.formats.map(e=>(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"format",value:e,checked:x===e,onChange:e=>u(e.target.value),className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:e.toUpperCase()})]},e))})]}),(0,o.jsxs)("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"Delivery Method"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"delivery",value:"download",checked:"download"===p,onChange:e=>h(e.target.value),className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Download immediately"})]}),(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"delivery",value:"email",checked:"email"===p,onChange:e=>h(e.target.value),className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Send by email"})]}),"email"===p&&o.jsx("div",{className:"ml-6",children:o.jsx(i.I,{type:"email",value:g,onChange:e=>j(e.target.value),placeholder:"Enter email address",className:"max-w-sm"})})]})]}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[o.jsx(l.z,{onClick:E,variant:"outline",disabled:f,children:f?"Loading...":"Preview"}),o.jsx(l.z,{onClick:q,disabled:f,children:f?"Generating...":"Generate Report"})]}),N&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-red-800 text-sm",children:N})}),C&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsx("p",{className:"text-green-800 text-sm",children:C})})]}),D&&r&&o.jsx(b,{template:r,parameters:d,onClose:()=>P(!1)})]})}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C({template:e}){return(0,o.jsxs)("div",{className:"border-b pb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.name}),e.description&&o.jsx("p",{className:"text-gray-600 mt-1",children:e.description})]})}function S({parameters:e,values:t,validationErrors:r,onParameterChange:s}){if(0===e.length)return null;let a=e=>{let a=t[e.name]||"",l=r[e.name],n=`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`;switch(e.type){case"string":return(0,o.jsxs)("div",{children:[o.jsx(i.I,{type:"text",value:a,onChange:t=>s(e.name,t.target.value),placeholder:`Enter ${e.label.toLowerCase()}`,className:l?"border-red-300 focus:ring-red-500":""}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]});case"number":return(0,o.jsxs)("div",{children:[o.jsx(i.I,{type:"number",value:a,onChange:t=>s(e.name,Number(t.target.value)),placeholder:`Enter ${e.label.toLowerCase()}`,className:l?"border-red-300 focus:ring-red-500":""}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]});case"date":return(0,o.jsxs)("div",{children:[o.jsx(i.I,{type:"date",value:a,onChange:t=>s(e.name,t.target.value),className:l?"border-red-300 focus:ring-red-500":""}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]});case"boolean":return(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:a||!1,onChange:t=>s(e.name,t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]});case"select":return(0,o.jsxs)("div",{children:[(0,o.jsxs)("select",{value:a,onChange:t=>s(e.name,t.target.value),className:n,children:[(0,o.jsxs)("option",{value:"",children:["Select ",e.label.toLowerCase()]}),e.options?.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))]}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]});default:return(0,o.jsxs)("div",{children:[o.jsx(i.I,{type:"text",value:a,onChange:t=>s(e.name,t.target.value),placeholder:`Enter ${e.label.toLowerCase()}`,className:l?"border-red-300 focus:ring-red-500":""}),l&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]})}};return(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Report Parameters"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a(e)]},e.name))})]})}function D({formats:e,selectedFormat:t,onFormatChange:r}){let s=e=>{switch(e){case"pdf":default:return"\uD83D\uDCC4";case"excel":return"\uD83D\uDCCA";case"csv":return"\uD83D\uDCCB"}};return(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Output Format"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.map(e=>(0,o.jsxs)("label",{className:`
              flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors
              ${t===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
            `,children:[o.jsx("input",{type:"radio",name:"format",value:e,checked:t===e,onChange:e=>r(e.target.value),className:"sr-only"}),(0,o.jsxs)("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:s(e)}),o.jsx("span",{className:"font-medium",children:e.toUpperCase()})]})]},e))})]})}function P({deliveryMethod:e,email:t,emailError:r,onDeliveryMethodChange:s,onEmailChange:a}){return(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Method"}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"radio",name:"delivery",value:"download",checked:"download"===e,onChange:e=>s(e.target.value),className:"mt-1 text-blue-600 focus:ring-blue-500"}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Download immediately"}),o.jsx("p",{className:"text-sm text-gray-600",children:"The report will be generated and downloaded to your device"})]})]}),(0,o.jsxs)("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"radio",name:"delivery",value:"email",checked:"email"===e,onChange:e=>s(e.target.value),className:"mt-1 text-blue-600 focus:ring-blue-500"}),(0,o.jsxs)("div",{className:"flex-1",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Send by email"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"The report will be sent to the specified email address"}),"email"===e&&(0,o.jsxs)("div",{children:[o.jsx(i.I,{type:"email",value:t||"",onChange:e=>a(e.target.value),placeholder:"Enter email address",className:r?"border-red-300 focus:ring-red-500":""}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})]})]})]})]})}function R({template:e,onConfigurationChange:t,onPreview:r,onGenerate:i,loading:n=!1,error:d=null}){let{config:c,validationErrors:m,handleParameterChange:x,handleFormatChange:u,handleDeliveryMethodChange:p,handleEmailChange:h,validateConfiguration:g}=function({template:e,onConfigurationChange:t}){let{0:r,1:a}=(0,s.useState)({templateId:e.id,parameters:{},format:e.formats[0]||"pdf",deliveryMethod:"download"}),{0:l,1:i}=(0,s.useState)({});return{config:r,validationErrors:l,handleParameterChange:(e,s)=>{let n=w(w({},r),{},{parameters:w(w({},r.parameters),{},{[e]:s})});a(n),t(n),l[e]&&i(t=>{let r=w({},t);return delete r[e],r})},handleFormatChange:e=>{let s=w(w({},r),{},{format:e});a(s),t(s)},handleDeliveryMethodChange:e=>{let s=w(w({},r),{},{deliveryMethod:e});a(s),t(s)},handleEmailChange:e=>{let s=w(w({},r),{},{email:e});a(s),t(s)},validateConfiguration:()=>{let t={};return e.parameters.forEach(e=>{e.required&&!r.parameters[e.name]&&(t[e.name]=`${e.label} is required`)}),"email"!==r.deliveryMethod||r.email||(t.email="Email address is required for email delivery"),i(t),0===Object.keys(t).length}}}({template:e,onConfigurationChange:t});return o.jsx(a.Zb,{className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-6",children:[o.jsx(C,{template:e}),o.jsx(S,{parameters:e.parameters,values:c.parameters,validationErrors:m,onParameterChange:x}),o.jsx(D,{formats:e.formats,selectedFormat:c.format,onFormatChange:u}),o.jsx(P,{deliveryMethod:c.deliveryMethod,email:c.email,emailError:m.email,onDeliveryMethodChange:p,onEmailChange:h}),d&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-red-500",children:"⚠️"}),o.jsx("p",{className:"text-red-800 text-sm",children:d})]})}),(0,o.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[(0,o.jsxs)(l.z,{onClick:()=>{g()&&r()},variant:"outline",disabled:n,className:"flex items-center space-x-2",children:[o.jsx("span",{children:"\uD83D\uDC41️"}),o.jsx("span",{children:n?"Loading...":"Preview Report"})]}),(0,o.jsxs)(l.z,{onClick:()=>{g()&&i()},disabled:n,className:"flex items-center space-x-2",children:[o.jsx("span",{children:"\uD83D\uDE80"}),o.jsx("span",{children:n?"Generating...":"Generate Report"})]})]})]})})}function O({templates:e}){let{0:t,1:r}=(0,s.useState)(null),{0:i,1:n}=(0,s.useState)(null),{0:d,1:m}=(0,s.useState)(!1),{0:x,1:u}=(0,s.useState)(!1),{0:p,1:h}=(0,s.useState)(null),{0:g,1:j}=(0,s.useState)(null),f=e=>{r(e),m(!1),h(null),j(null)},v=async()=>{if(t&&i)try{u(!0),h(null),m(!0)}catch(e){h(e instanceof Error?e.message:"Failed to preview report")}finally{u(!1)}},y=async()=>{if(t&&i)try{u(!0),h(null),j(null);let e={templateId:i.templateId,parameters:i.parameters,format:i.format,deliveryMethod:i.deliveryMethod,email:i.email},t=await c.generateReport(e);"download"===i.deliveryMethod?(await c.downloadReport(t.reportId),j("Report generated and downloaded successfully!")):j(`Report generated and sent to ${i.email}!`)}catch(e){h(e instanceof Error?e.message:"Failed to generate report")}finally{u(!1)}};return(0,o.jsxs)("div",{className:"space-y-6",children:[o.jsx(a.Zb,{className:"p-6",children:(0,o.jsxs)("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Report Configuration"}),o.jsx("p",{className:"text-gray-600",children:"Configure and customize your reports with advanced options, preview before generating, and set up automated delivery."})]})}),(0,o.jsxs)(a.Zb,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"1. Select Report Template"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,o.jsxs)("div",{onClick:()=>f(e),className:`
                p-6 border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md
                ${t?.id===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
              `,children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),t?.id===e.id&&o.jsx("span",{className:"text-blue-500 text-xl",children:"✓"})]}),e.description&&o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,o.jsxs)("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex flex-wrap gap-1",children:e.formats.map(e=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e.toUpperCase()},e))}),e.parameters.length>0&&(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:[e.parameters.length," parameter",1!==e.parameters.length?"s":""]})]})]},e.id))}),0===e.length&&(0,o.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Report Templates Available"}),o.jsx("p",{className:"text-sm",children:"Contact your administrator to set up report templates."})]})]}),t&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)(a.Zb,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"2. Configure Report Settings"}),o.jsx(R,{template:t,onConfigurationChange:e=>{n(e)},onPreview:v,onGenerate:y,loading:x,error:p})]}),g&&o.jsx(a.Zb,{className:"p-4 border-green-200 bg-green-50",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-green-500",children:"✅"}),o.jsx("p",{className:"text-green-800 text-sm",children:g})]})}),d&&i&&(0,o.jsxs)(a.Zb,{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"3. Report Preview"}),o.jsx(l.z,{onClick:()=>m(!1),variant:"outline",size:"sm",children:"Close Preview"})]}),o.jsx(b,{template:t,parameters:i.parameters,onClose:()=>m(!1)})]}),(0,o.jsxs)(a.Zb,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)(l.z,{onClick:v,variant:"outline",disabled:x||!i,className:"flex items-center justify-center space-x-2 p-4 h-auto",children:[o.jsx("span",{className:"text-2xl",children:"\uD83D\uDC41️"}),(0,o.jsxs)("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"Preview Report"}),o.jsx("div",{className:"text-sm text-gray-600",children:"See data before generating"})]})]}),(0,o.jsxs)(l.z,{onClick:y,disabled:x||!i,className:"flex items-center justify-center space-x-2 p-4 h-auto",children:[o.jsx("span",{className:"text-2xl",children:"\uD83D\uDE80"}),(0,o.jsxs)("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"Generate Now"}),o.jsx("div",{className:"text-sm text-blue-100",children:"Create and download report"})]})]}),(0,o.jsxs)(l.z,{onClick:()=>{console.log("Schedule report with config:",i)},variant:"outline",disabled:x||!i,className:"flex items-center justify-center space-x-2 p-4 h-auto",children:[o.jsx("span",{className:"text-2xl",children:"⏰"}),(0,o.jsxs)("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"Schedule Report"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Set up automatic generation"})]})]})]})]}),i&&(0,o.jsxs)(a.Zb,{className:"p-6 bg-gray-50",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Configuration Summary"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Template:"}),o.jsx("span",{className:"ml-2 text-gray-900",children:t.name})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Format:"}),o.jsx("span",{className:"ml-2 text-gray-900",children:i.format.toUpperCase()})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Delivery:"}),o.jsx("span",{className:"ml-2 text-gray-900",children:"download"===i.deliveryMethod?"Download":`Email to ${i.email}`})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Parameters:"}),(0,o.jsxs)("span",{className:"ml-2 text-gray-900",children:[Object.keys(i.parameters).length," configured"]})]})]})]})]})]})}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q({templates:e,onClose:t,onSave:r,editingReport:a}){let{0:n,1:d}=(0,s.useState)(1),{0:m,1:x}=(0,s.useState)({templateId:a?.templateId||"",parameters:a?.parameters||{},format:a?.format||"pdf",schedule:a?.schedule||"0 9 * * *",recipients:a?.recipients||[]}),{0:u,1:p}=(0,s.useState)(""),{0:h,1:g}=(0,s.useState)(!1),{0:j,1:b}=(0,s.useState)(null),f=e.find(e=>e.id===m.templateId),v=[{id:1,title:"Select Template",description:"Choose the report template"},{id:2,title:"Configure Parameters",description:"Set report parameters"},{id:3,title:"Schedule Settings",description:"Set frequency and format"},{id:4,title:"Recipients",description:"Add email recipients"}],y=()=>{switch(b(null),n){case 1:if(!m.templateId)return b("Please select a report template"),!1;break;case 2:if(f){for(let e of f.parameters)if(e.required&&!m.parameters[e.name])return b(`Parameter "${e.label}" is required`),!1}break;case 3:if(!c.validateCronExpression(m.schedule))return b("Invalid schedule format"),!1;break;case 4:if(0===m.recipients.length)return b("Please add at least one recipient"),!1}return!0},N=async()=>{if(y())try{g(!0),b(null),a?await c.updateScheduledReport(a.id,m):await c.createScheduledReport(m),r()}catch(e){b(e instanceof Error?e.message:"Failed to save scheduled report")}finally{g(!1)}},w=()=>{u&&!m.recipients.includes(u)&&(x(e=>E(E({},e),{},{recipients:[...e.recipients,u]})),p(""))},C=e=>{x(t=>E(E({},t),{},{recipients:t.recipients.filter(t=>t!==e)}))},S=e=>{let t=m.parameters[e.name]||"";switch(e.type){case"string":return o.jsx(i.I,{type:"text",value:t,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:t.target.value})})),placeholder:`Enter ${e.label.toLowerCase()}`});case"number":return o.jsx(i.I,{type:"number",value:t,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:Number(t.target.value)})})),placeholder:`Enter ${e.label.toLowerCase()}`});case"date":return o.jsx(i.I,{type:"date",value:t,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:t.target.value})}))});case"boolean":return(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:t||!1,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:t.target.checked})})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]});case"select":return(0,o.jsxs)("select",{value:t,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:t.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsxs)("option",{value:"",children:["Select ",e.label.toLowerCase()]}),e.options?.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))]});default:return o.jsx(i.I,{type:"text",value:t,onChange:t=>x(r=>E(E({},r),{},{parameters:E(E({},r.parameters),{},{[e.name]:t.target.value})})),placeholder:`Enter ${e.label.toLowerCase()}`})}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[a?"Edit":"Create"," Scheduled Report"]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Step ",n," of ",4,":"," ",v[n-1].description]})]}),o.jsx(l.z,{onClick:t,variant:"outline",size:"sm",children:"Cancel"})]}),o.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:o.jsx("div",{className:"flex items-center justify-between",children:v.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center",children:[o.jsx("div",{className:`
                    flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                    ${n>=e.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}
                  `,children:n>e.id?"✓":e.id}),o.jsx("div",{className:"ml-2 hidden sm:block",children:o.jsx("div",{className:`text-sm font-medium ${n>=e.id?"text-blue-600":"text-gray-500"}`,children:e.title})}),t<v.length-1&&o.jsx("div",{className:`w-12 h-0.5 mx-4 ${n>e.id?"bg-blue-600":"bg-gray-200"}`})]},e.id))})}),(0,o.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(()=>{switch(n){case 1:return(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select Report Template"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,o.jsxs)("div",{onClick:()=>x(t=>E(E({},t),{},{templateId:e.id})),className:`
                    p-4 border rounded-lg cursor-pointer transition-colors
                    ${m.templateId===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                  `,children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:e.name}),e.description&&o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.formats.map(e=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e.toUpperCase()},e))})]},e.id))})]});case 2:return(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configure Parameters"}),f&&f.parameters.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.parameters.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),S(e)]},e.name))}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:o.jsx("p",{children:"This template doesn't require any parameters."})})]});case 3:return(0,o.jsxs)("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Schedule Settings"}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Output Format"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:f?.formats.map(e=>o.jsxs("label",{className:`
                      flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors
                      ${m.format===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                    `,children:[o.jsx("input",{type:"radio",name:"format",value:e,checked:m.format===e,onChange:e=>x(t=>E(E({},t),{},{format:e.target.value})),className:"sr-only"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl mb-2",children:["pdf"===e&&"\uD83D\uDCC4","excel"===e&&"\uD83D\uDCCA","csv"===e&&"\uD83D\uDCCB"]}),o.jsx("span",{className:"font-medium",children:e.toUpperCase()})]})]},e))})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Schedule Frequency"}),(0,o.jsxs)("div",{className:"space-y-3",children:[c.getSuggestedSchedules().map(e=>(0,o.jsxs)("label",{className:`
                      flex items-start p-4 border rounded-lg cursor-pointer transition-colors
                      ${m.schedule===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                    `,children:[o.jsx("input",{type:"radio",name:"schedule",value:e.value,checked:m.schedule===e.value,onChange:e=>x(t=>E(E({},t),{},{schedule:e.target.value})),className:"mt-1 text-blue-600 focus:ring-blue-500"}),(0,o.jsxs)("div",{className:"ml-3",children:[o.jsx("div",{className:"font-medium text-gray-900",children:e.label}),o.jsx("div",{className:"text-sm text-gray-600",children:e.description})]})]},e.value)),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsxs)("label",{className:"flex items-center mb-2",children:[o.jsx("input",{type:"radio",name:"schedule",checked:!c.getSuggestedSchedules().some(e=>e.value===m.schedule),onChange:()=>{},className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:"Custom Schedule"})]}),o.jsx(i.I,{type:"text",value:m.schedule,onChange:e=>x(t=>E(E({},t),{},{schedule:e.target.value})),placeholder:"Enter cron expression (e.g., 0 9 * * *)",className:"text-sm"}),(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Current:"," ",c.describeCronExpression(m.schedule)]})]})]})]})]});case 4:return(0,o.jsxs)("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Recipients"}),(0,o.jsxs)("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Recipients"}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[o.jsx(i.I,{type:"email",value:u,onChange:e=>p(e.target.value),placeholder:"Enter email address",className:"flex-1",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),w())}}),o.jsx(l.z,{type:"button",onClick:w,variant:"outline",children:"Add"})]})]}),m.recipients.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Recipients (",m.recipients.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.recipients.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-600",children:"\uD83D\uDCE7"}),o.jsx("span",{className:"text-sm text-gray-900",children:e})]}),o.jsx(l.z,{type:"button",onClick:()=>C(e),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:"Remove"})]},t))})]}),0===m.recipients.length&&(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCE7"}),o.jsx("p",{children:"No recipients added yet."}),o.jsx("p",{className:"text-sm",children:"Add at least one email address to receive the scheduled reports."})]})]});default:return null}})(),j&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-red-800 text-sm",children:j})})]}),(0,o.jsxs)("div",{className:"flex justify-between p-6 border-t bg-gray-50",children:[o.jsx(l.z,{onClick:()=>{d(e=>Math.max(e-1,1))},variant:"outline",disabled:1===n,children:"Previous"}),o.jsx("div",{className:"flex space-x-3",children:n<4?o.jsx(l.z,{onClick:()=>{y()&&d(e=>Math.min(e+1,4))},children:"Next"}):o.jsx(l.z,{onClick:N,disabled:h,children:h?"Saving...":a?"Update":"Create"})})]})]})})}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L({templates:e}){let{0:t,1:r}=(0,s.useState)([]),{0:i,1:n}=(0,s.useState)(!0),{0:d,1:m}=(0,s.useState)(null),{0:x,1:u}=(0,s.useState)(!1),{0:p,1:h}=(0,s.useState)(null),{0:g,1:j}=(0,s.useState)({show:!1,reportId:"",reportName:""}),b=async()=>{try{n(!0),m(null);let e=await c.getScheduledReports();r(e)}catch(e){m(e instanceof Error?e.message:"Failed to load scheduled reports")}finally{n(!1)}},f=e=>{let r=t.find(t=>t.id===e);j({show:!0,reportId:e,reportName:r?.templateName||"Unknown Report"})},v=async()=>{try{await c.deleteScheduledReport(g.reportId),r(e=>e.filter(e=>e.id!==g.reportId)),j({show:!1,reportId:"",reportName:""})}catch(e){m(e instanceof Error?e.message:"Failed to delete scheduled report")}},y=async e=>{try{let t={templateId:e.templateId,parameters:e.parameters,format:e.format,schedule:e.schedule,recipients:e.recipients,isActive:!e.isActive};await c.updateScheduledReport(e.id,t),r(t=>t.map(t=>t.id===e.id?A(A({},t),{},{isActive:!t.isActive}):t))}catch(e){m(e instanceof Error?e.message:"Failed to update scheduled report")}},N=e=>c.describeCronExpression(e),w=e=>e?new Date(e).toLocaleString():"Not scheduled";return i?o.jsx(a.Zb,{className:"p-8",children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-gray-600",children:"Loading scheduled reports..."})]})}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Scheduled Reports"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage automated report generation and delivery"})]}),o.jsx(l.z,{onClick:()=>u(!0),children:"Create Scheduled Report"})]}),d&&o.jsx(a.Zb,{className:"p-4 border-red-200 bg-red-50",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-red-500",children:"⚠️"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-red-800 font-medium",children:"Error"}),o.jsx("p",{className:"text-red-600 text-sm",children:d}),o.jsx(l.z,{onClick:b,variant:"outline",size:"sm",className:"mt-2 border-red-300 text-red-700 hover:bg-red-100",children:"Retry"})]})]})}),0===t.length?o.jsx(a.Zb,{className:"p-8 text-center",children:(0,o.jsxs)("div",{className:"text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC5"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Scheduled Reports"}),o.jsx("p",{className:"text-sm mb-4",children:"Create your first scheduled report to automate report generation and delivery."}),o.jsx(l.z,{onClick:()=>u(!0),children:"Create Scheduled Report"})]})}):o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(e=>o.jsx(a.Zb,{className:"p-6",children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.templateName}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isActive?"Active":"Inactive"}),o.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:e.format.toUpperCase()})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium",children:"Schedule:"}),o.jsx("span",{className:"ml-2",children:N(e.schedule)})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium",children:"Next Run:"}),o.jsx("span",{className:"ml-2",children:w(e.nextRun)})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium",children:"Recipients:"}),(0,o.jsxs)("span",{className:"ml-2",children:[e.recipients.length," recipient(s)"]})]})]}),e.lastRun&&(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:"Last Run:"}),o.jsx("span",{className:"ml-2",children:new Date(e.lastRun).toLocaleString()})]}),e.recipients.length>0&&(0,o.jsxs)("div",{className:"mt-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recipients:"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.recipients.map((e,t)=>o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e},t))})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx(l.z,{onClick:()=>y(e),variant:"outline",size:"sm",children:e.isActive?"Deactivate":"Activate"}),o.jsx(l.z,{onClick:()=>h(e),variant:"outline",size:"sm",children:"Edit"}),o.jsx(l.z,{onClick:()=>f(e.id),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:"Delete"})]})]})},e.id))}),(x||p)&&o.jsx(q,{templates:e,editingReport:p,onClose:()=>{u(!1),h(null)},onSave:()=>{u(!1),h(null),b()}}),g.show&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx(a.Zb,{className:"p-6 max-w-md w-full mx-4",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"}),(0,o.jsxs)("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone."})]})]}),(0,o.jsxs)("p",{className:"text-gray-700",children:["Are you sure you want to delete the scheduled report for"," ",o.jsx("span",{className:"font-medium",children:g.reportName}),"?"]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(l.z,{onClick:()=>{j({show:!1,reportId:"",reportName:""})},variant:"outline",children:"Cancel"}),o.jsx(l.z,{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete Report"})]})]})})})]})}function $(){let{0:e,1:t}=(0,s.useState)(""),{0:r,1:n}=(0,s.useState)("all"),{0:d}=(0,s.useState)([{id:"1",templateName:"User Activity Report",format:"PDF",generatedAt:"2024-01-15T10:30:00Z",generatedBy:"john.doe@example.com",status:"completed",downloadUrl:"/api/reports/download/1"},{id:"2",templateName:"Data Records Report",format:"Excel",generatedAt:"2024-01-14T15:45:00Z",generatedBy:"jane.smith@example.com",status:"completed",downloadUrl:"/api/reports/download/2"},{id:"3",templateName:"Audit Log Report",format:"CSV",generatedAt:"2024-01-14T09:15:00Z",generatedBy:"admin@example.com",status:"failed",error:"Database connection timeout"},{id:"4",templateName:"User Activity Report",format:"PDF",generatedAt:"2024-01-13T14:20:00Z",generatedBy:"manager@example.com",status:"processing"}]),c=d.filter(t=>{let s=t.templateName.toLowerCase().includes(e.toLowerCase())||t.generatedBy.toLowerCase().includes(e.toLowerCase()),a="all"===r||t.status===r;return s&&a}),m=e=>{let t="px-2 py-1 text-xs rounded-full font-medium";switch(e){case"completed":return`${t} bg-green-100 text-green-800`;case"failed":return`${t} bg-red-100 text-red-800`;case"processing":return`${t} bg-yellow-100 text-yellow-800`;default:return`${t} bg-gray-100 text-gray-800`}},x=e=>{e.downloadUrl&&window.open(e.downloadUrl,"_blank")};return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Report History"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"View and download previously generated reports"})]}),o.jsx(a.Zb,{className:"p-4",children:(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(i.I,{type:"text",placeholder:"Search reports...",value:e,onChange:e=>t(e.target.value),className:"w-full"})}),o.jsx("div",{className:"sm:w-48",children:(0,o.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"failed",children:"Failed"})]})})]})}),0===c.length?o.jsx(a.Zb,{className:"p-8 text-center",children:(0,o.jsxs)("div",{className:"text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Reports Found"}),o.jsx("p",{className:"text-sm",children:e||"all"!==r?"No reports match your current filters.":"No reports have been generated yet."})]})}):o.jsx("div",{className:"space-y-3",children:c.map(e=>o.jsx(a.Zb,{className:"p-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:e.templateName}),o.jsx("span",{className:m(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),o.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:e.format})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium",children:"Generated:"}),o.jsx("span",{className:"ml-2",children:new Date(e.generatedAt).toLocaleString()})]}),(0,o.jsxs)("div",{children:[o.jsx("span",{className:"font-medium",children:"By:"}),o.jsx("span",{className:"ml-2",children:e.generatedBy})]})]}),e.error&&(0,o.jsxs)("div",{className:"mt-2 text-sm text-red-600",children:[o.jsx("span",{className:"font-medium",children:"Error:"}),o.jsx("span",{className:"ml-2",children:e.error})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:["completed"===e.status&&e.downloadUrl&&o.jsx(l.z,{onClick:()=>x(e),variant:"outline",size:"sm",children:"Download"}),"processing"===e.status&&(0,o.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"}),o.jsx("span",{children:"Processing..."})]}),"failed"===e.status&&o.jsx(l.z,{onClick:()=>{console.log("Retry report generation for:",e.id)},variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:"Retry"})]})]})},e.id))}),c.length>0&&o.jsx(a.Zb,{className:"p-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,o.jsxs)("span",{children:["Showing ",c.length," reports"]}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[o.jsx(l.z,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),o.jsx(l.z,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})})]})}var I=r(32916);function T(){let{0:e,1:t}=(0,s.useState)("generate"),{0:r,1:i}=(0,s.useState)([]),{0:n,1:d}=(0,s.useState)(!0),{0:m,1:x}=(0,s.useState)(null),u=async()=>{try{d(!0),x(null);let e=await c.getReportTemplates();i(e)}catch(e){x(e instanceof Error?e.message:"Failed to load report templates")}finally{d(!1)}};return o.jsx(I.Z,{children:(0,o.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,o.jsxs)("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports"}),o.jsx("p",{className:"text-gray-600",children:"Generate, schedule, and manage your reports"})]}),o.jsx("div",{className:"mb-6",children:o.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"generate",label:"Generate Reports",icon:"\uD83D\uDCCA"},{id:"configure",label:"Configure Reports",icon:"⚙️"},{id:"scheduled",label:"Scheduled Reports",icon:"⏰"},{id:"history",label:"Report History",icon:"\uD83D\uDCCB"}].map(r=>(0,o.jsxs)("button",{onClick:()=>t(r.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors
                  ${e===r.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                `,children:[o.jsx("span",{children:r.icon}),o.jsx("span",{children:r.label})]},r.id))})}),m&&o.jsx(a.Zb,{className:"mb-6 p-4 border-red-200 bg-red-50",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-red-500",children:"⚠️"}),(0,o.jsxs)("div",{children:[o.jsx("p",{className:"text-red-800 font-medium",children:"Error loading reports"}),o.jsx("p",{className:"text-red-600 text-sm",children:m}),o.jsx(l.z,{onClick:u,variant:"outline",size:"sm",className:"mt-2 border-red-300 text-red-700 hover:bg-red-100",children:"Try Again"})]})]})}),n&&o.jsx(a.Zb,{className:"p-8",children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-gray-600",children:"Loading reports..."})]})}),!n&&!m&&(0,o.jsxs)(o.Fragment,{children:["generate"===e&&o.jsx(y,{templates:r,onRefresh:u}),"configure"===e&&o.jsx(O,{templates:r}),"scheduled"===e&&o.jsx(L,{templates:r}),"history"===e&&o.jsx($,{})]})]})})}},34567:(e,t,r)=>{"use strict";function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{hi:()=>d,x1:()=>n});class i{constructor(e="http://localhost:3001"){l(this,"baseURL",void 0),this.baseURL=e}async request(e,t={}){let r=`${this.baseURL}${e}`,s=a({headers:a({"Content-Type":"application/json"},t.headers)},t),l=localStorage.getItem("accessToken");l&&(s.headers=a(a({},s.headers),{},{Authorization:`Bearer ${l}`}));try{let e=await fetch(r,s),t=await e.json();if(!e.ok)throw Error(t.error?.message||"API request failed");return t}catch(e){throw console.error("API request error:",e),e}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}let n=new i,d=n},85451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(87866).createProxy)(String.raw`/Users/mauroociappina/Desktop/Dazlab/Proyecto 40/Repo/gravitad-040-2024-gravitad-generacio-actualizada-contenido-asist-de-escritura-plataforma/Req/frontend/src/app/reports/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[588,361,909,805,715,790,741,630,905],()=>r(26732));module.exports=s})();