"use strict";exports.id=951,exports.ids=[951],exports.modules={28377:(e,t,r)=>{r.d(t,{P:()=>c});var s=r(31694),a=r(16546),i=r(3113);r(76344);var n=r(52166);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c({onFilterChange:e,currentFilters:t}){let{0:r,1:l}=(0,s.useState)(!1),{0:c,1:d}=(0,s.useState)([]),{0:u,1:p}=(0,s.useState)({type:t.type||"",category:t.category||"",priority:t.priority||"",createdBy:t.createdBy||"",dateFrom:t.dateFrom||"",dateTo:t.dateTo||"",tags:t.tags||[]}),x=(t,r)=>{let s=o(o({},u),{},{[t]:r});p(s),e(Object.entries(s).reduce((e,[t,r])=>(""!==r&&null!=r&&(!Array.isArray(r)||r.length>0)&&(e[t]=r),e),{}))},m=Object.values(u).some(e=>""!==e&&null!=e&&(!Array.isArray(e)||e.length>0));return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>l(!r),children:[r?"Ocultar":"Mostrar"," Filtros Avanzados"]}),m&&n.jsx(a.z,{variant:"ghost",size:"sm",onClick:()=>{p({type:"",category:"",priority:"",createdBy:"",dateFrom:"",dateTo:"",tags:[]}),e({})},className:"text-red-600 hover:text-red-700",children:"Limpiar Filtros"})]}),r&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Registro"}),(0,n.jsxs)("select",{className:"w-full h-10 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u.type,onChange:e=>x("type",e.target.value),children:[n.jsx("option",{value:"",children:"Todos los tipos"}),c.map(e=>n.jsx("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda"}),n.jsx(i.I,{placeholder:"Filtrar por categor\xeda",value:u.category,onChange:e=>x("category",e.target.value)})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),(0,n.jsxs)("select",{className:"w-full h-10 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u.priority,onChange:e=>x("priority",e.target.value),children:[n.jsx("option",{value:"",children:"Todas las prioridades"}),n.jsx("option",{value:"low",children:"Baja"}),n.jsx("option",{value:"medium",children:"Media"}),n.jsx("option",{value:"high",children:"Alta"})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creado por (ID de usuario)"}),n.jsx(i.I,{placeholder:"ID del usuario",value:u.createdBy,onChange:e=>x("createdBy",e.target.value)})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha desde"}),n.jsx(i.I,{type:"date",value:u.dateFrom,onChange:e=>x("dateFrom",e.target.value)})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha hasta"}),n.jsx(i.I,{type:"date",value:u.dateTo,onChange:e=>x("dateTo",e.target.value)})]})]}),m&&(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Filtros activos:"}),u.type&&(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Tipo: ",u.type,n.jsx("button",{onClick:()=>x("type",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),u.category&&(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Categor\xeda: ",u.category,n.jsx("button",{onClick:()=>x("category",""),className:"ml-1 text-green-600 hover:text-green-800",children:"\xd7"})]}),u.priority&&(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Prioridad: ",u.priority,n.jsx("button",{onClick:()=>x("priority",""),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:"\xd7"})]}),u.dateFrom&&(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Desde: ",u.dateFrom,n.jsx("button",{onClick:()=>x("dateFrom",""),className:"ml-1 text-purple-600 hover:text-purple-800",children:"\xd7"})]}),u.dateTo&&(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Hasta: ",u.dateTo,n.jsx("button",{onClick:()=>x("dateTo",""),className:"ml-1 text-purple-600 hover:text-purple-800",children:"\xd7"})]})]})]})}},24115:(e,t,r)=>{r.d(t,{w:()=>l});var s=r(16546),a=r(27671),i=r(17785),n=r(52166);function l({records:e,loading:t,pagination:r,sortBy:l,sortOrder:o,onSortChange:c,onPageChange:d,onView:u,onEdit:p,onDelete:x}){let m=e=>{c(e,l===e&&"asc"===o?"desc":"asc")},h=e=>l!==e?"↕️":"asc"===o?"↑":"↓",y=e=>{try{return(0,a.Q)(new Date(e),{addSuffix:!0,locale:i.es})}catch{return e}},g=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return t?(0,n.jsxs)("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando registros..."})]}):0===e.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No se encontraron registros"}),n.jsx("p",{className:"text-gray-400",children:"Intente ajustar los filtros de b\xfasqueda"})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[n.jsx("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>m("type"),children:["Tipo ",h("type")]}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Datos"}),(0,n.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>m("metadata.priority"),children:["Prioridad ",h("metadata.priority")]}),(0,n.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>m("updatedAt"),children:["Actualizado ",h("updatedAt")]}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.type}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id.slice(0,8),"..."]})]})})}),n.jsx("td",{className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:[Object.keys(e.data).slice(0,3).map(t=>(0,n.jsxs)("div",{className:"truncate",children:[(0,n.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",String(e.data[t]).slice(0,50)]},t)),Object.keys(e.data).length>3&&(0,n.jsxs)("div",{className:"text-gray-400 text-xs",children:["+",Object.keys(e.data).length-3," campos m\xe1s"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(e.metadata?.priority)}`,children:e.metadata?.priority||"normal"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(e.updatedAt)}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[n.jsx(s.z,{variant:"ghost",size:"sm",onClick:()=>u(e.id),children:"Ver"}),n.jsx(s.z,{variant:"ghost",size:"sm",onClick:()=>p(e.id),children:"Editar"}),n.jsx(s.z,{variant:"ghost",size:"sm",onClick:()=>x(e.id),className:"text-red-600 hover:text-red-700",children:"Eliminar"})]})]},e.id))})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(r.page-1)*r.limit+1," a"," ",Math.min(r.page*r.limit,r.total)," de"," ",r.total," registros"]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[n.jsx(s.z,{variant:"outline",size:"sm",onClick:()=>d(r.page-1),disabled:r.page<=1,children:"Anterior"}),Array.from({length:Math.min(5,r.totalPages)},(e,t)=>{let a=Math.max(1,r.page-2)+t;return a>r.totalPages?null:n.jsx(s.z,{variant:a===r.page?"primary":"outline",size:"sm",onClick:()=>d(a),children:a},a)}),n.jsx(s.z,{variant:"outline",size:"sm",onClick:()=>d(r.page+1),disabled:r.page>=r.totalPages,children:"Siguiente"})]})]})]})}},64854:(e,t,r)=>{r.d(t,{OL:()=>u,_T:()=>n,aR:()=>i,f$:()=>o,fY:()=>l,le:()=>p,xo:()=>d,yT:()=>c});var s=r(16546),a=r(52166);function i({open:e,onOpenChange:t,children:r}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>t(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg max-w-md w-full mx-4",children:r})]}):null}function n({children:e}){return a.jsx("div",{className:"p-6",children:e})}function l({children:e}){return a.jsx("div",{className:"mb-4",children:e})}function o({children:e}){return a.jsx("h2",{className:"text-lg font-semibold",children:e})}function c({children:e}){return a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e})}function d({children:e}){return a.jsx("div",{className:"flex justify-end space-x-2 mt-6",children:e})}function u({onClick:e,children:t,variant:r="default"}){return a.jsx(s.z,{onClick:e,variant:"destructive"===r?"danger":"primary",children:t})}function p({onClick:e,children:t}){return a.jsx(s.z,{onClick:e,variant:"outline",children:t})}},54566:(e,t,r)=>{r.d(t,{A:()=>i,p:()=>a});var s=r(38597);let a=()=>({toast:e=>{"destructive"===e.variant?s.ZP.error(e.description||e.title||"Error"):s.ZP.success(e.description||e.title||"Success")}}),i=e=>{"destructive"===e.variant?s.ZP.error(e.description||e.title||"Error"):s.ZP.success(e.description||e.title||"Success")}},34567:(e,t,r)=>{function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{hi:()=>o,x1:()=>l});class n{constructor(e="http://localhost:3001"){i(this,"baseURL",void 0),this.baseURL=e}async request(e,t={}){let r=`${this.baseURL}${e}`,s=a({headers:a({"Content-Type":"application/json"},t.headers)},t),i=localStorage.getItem("accessToken");i&&(s.headers=a(a({},s.headers),{},{Authorization:`Bearer ${i}`}));try{let e=await fetch(r,s),t=await e.json();if(!e.ok)throw Error(t.error?.message||"API request failed");return t}catch(e){throw console.error("API request error:",e),e}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}let l=new n,o=l},76344:(e,t,r)=>{r.d(t,{c:()=>o});var s=r(34567);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l{constructor(){n(this,"basePath","/api/data-records")}async getRecords(e){let t=new URLSearchParams;return e.query&&t.append("query",e.query),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),t.append("page",e.page.toString()),t.append("limit",e.limit.toString()),Object.entries(e.filters).forEach(([e,r])=>{null!=r&&""!==r&&(Array.isArray(r)?r.forEach(r=>t.append(`${e}[]`,r.toString())):t.append(e,r.toString()))}),s.x1.get(`${this.basePath}?${t.toString()}`)}async getRecord(e){return s.x1.get(`${this.basePath}/${e}`)}async createRecord(e){return s.x1.post(this.basePath,e)}async updateRecord(e,t){return s.x1.put(`${this.basePath}/${e}`,t)}async updateRecordWithVersion(e,t,r){return s.x1.put(`${this.basePath}/${e}`,i(i({},t),{},{expectedVersion:r}))}async checkForConflicts(e,t){return s.x1.get(`${this.basePath}/${e}/conflict-check?version=${t}`)}async deleteRecord(e){return s.x1.delete(`${this.basePath}/${e}`)}async getRecordTypes(){return s.x1.get(`${this.basePath}/types`)}async getRecordHistory(e){return s.x1.get(`${this.basePath}/${e}/history`)}}let o=new l}};