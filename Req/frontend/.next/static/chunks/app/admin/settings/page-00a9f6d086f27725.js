(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{12212:function(e,t,r){Promise.resolve().then(r.bind(r,87308))},87308:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var s=r(2265),a=r(7232),n=r(36118),i=r(93394),l=r(50090),c=r(84513),o=r(30837),d=r.n(o),u=r(19245),m=r(55010),x=r(5813);function h(){var e,t,r,a=(0,s.useState)(null),n=a[0],i=a[1],c=(0,s.useState)([]),o=c[0],u=c[1],m=(0,s.useState)([]),h=m[0],p=m[1],g=(0,s.useState)(null),f=g[0],v=g[1],b=(0,s.useState)(!1),j=b[0],y=b[1],N=(0,s.useState)(null),w=N[0],k=N[1],D=(0,s.useState)({page:1,limit:10,total:0,totalPages:0}),C=D[0],O=D[1],S=(0,s.useState)({page:1,limit:50,total:0,totalPages:0}),E=S[0],P=S[1];return{config:n,backups:o,logs:h,metrics:f,loading:j,error:w,backupPagination:C,logPagination:E,fetchSystemConfig:(0,s.useCallback)((0,l.Z)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),k(null),e.next=5,x.hi.get("/system-config");case 5:if(!(t=e.sent).data.success){e.next=10;break}i(t.data.data.config),e.next=11;break;case 10:throw Error("Error al obtener configuraci\xf3n del sistema");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),k((null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.error)||void 0===r?void 0:r.message)||"Error al obtener configuraci\xf3n del sistema"),console.error("Error fetching system config:",e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])})),[]),updateSystemConfig:(0,s.useCallback)((e=(0,l.Z)(d().mark(function e(t){var r,s,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(null),e.next=4,x.hi.put("/system-config",t);case 4:if((r=e.sent).data.success){e.next=7;break}throw Error("Error al actualizar configuraci\xf3n del sistema");case 7:return i(r.data.data.config),e.abrupt("return",r.data.data.config);case 11:throw e.prev=11,e.t0=e.catch(0),k(a=(null===(s=e.t0.response)||void 0===s||null===(s=s.data)||void 0===s||null===(s=s.error)||void 0===s?void 0:s.message)||"Error al actualizar configuraci\xf3n del sistema"),Error(a);case 16:case"end":return e.stop()}},e,null,[[0,11]])})),function(t){return e.apply(this,arguments)}),[]),fetchBackups:(0,s.useCallback)((0,l.Z)(d().mark(function e(){var t,r,s,a,n=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,r=n.length>1&&void 0!==n[1]?n[1]:10,e.prev=2,y(!0),k(null),e.next=7,x.hi.get("/system-config/backups?page=".concat(t,"&limit=").concat(r));case 7:if(!(s=e.sent).data.success){e.next=13;break}u(s.data.data.backups),O({page:s.data.data.page,limit:s.data.data.limit||10,total:s.data.data.total,totalPages:s.data.data.totalPages}),e.next=14;break;case 13:throw Error("Error al obtener respaldos");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),k((null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.error)||void 0===a?void 0:a.message)||"Error al obtener respaldos"),console.error("Error fetching backups:",e.t0);case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[2,16,20,23]])})),[]),createBackup:(0,s.useCallback)((t=(0,l.Z)(d().mark(function e(t){var r,s,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(null),e.next=4,x.hi.post("/system-config/backups",{description:t});case 4:if((r=e.sent).data.success){e.next=7;break}throw Error("Error al crear respaldo");case 7:return e.abrupt("return",r.data.data.backup);case 10:throw e.prev=10,e.t0=e.catch(0),k(a=(null===(s=e.t0.response)||void 0===s||null===(s=s.data)||void 0===s||null===(s=s.error)||void 0===s?void 0:s.message)||"Error al crear respaldo"),Error(a);case 15:case"end":return e.stop()}},e,null,[[0,10]])})),function(e){return t.apply(this,arguments)}),[]),restoreBackup:(0,s.useCallback)((r=(0,l.Z)(d().mark(function e(t){var r,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(null),e.next=4,x.hi.post("/system-config/backups/".concat(t,"/restore"));case 4:if(e.sent.data.success){e.next=7;break}throw Error("Error al restaurar respaldo");case 7:return e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e.catch(0),k(s=(null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.error)||void 0===r?void 0:r.message)||"Error al restaurar respaldo"),Error(s);case 15:case"end":return e.stop()}},e,null,[[0,10]])})),function(e){return r.apply(this,arguments)}),[]),fetchLogs:(0,s.useCallback)((0,l.Z)(d().mark(function e(){var t,r,s,a,n=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,y(!0),k(null),r=new URLSearchParams,t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.level&&r.append("level",t.level),t.startDate&&r.append("startDate",t.startDate),t.endDate&&r.append("endDate",t.endDate),e.next=12,x.hi.get("/system-config/logs?".concat(r.toString()));case 12:if(!(s=e.sent).data.success){e.next=18;break}p(s.data.data.logs),P({page:s.data.data.page,limit:s.data.data.limit||50,total:s.data.data.total,totalPages:s.data.data.totalPages}),e.next=19;break;case 18:throw Error("Error al obtener logs");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),k((null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.error)||void 0===a?void 0:a.message)||"Error al obtener logs"),console.error("Error fetching logs:",e.t0);case 25:return e.prev=25,y(!1),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[1,21,25,28]])})),[]),cleanupLogs:(0,s.useCallback)((0,l.Z)(d().mark(function e(){var t,r,s,a,n=arguments;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:30,e.prev=1,k(null),e.next=5,x.hi.post("/system-config/logs/cleanup",{days:t});case 5:if((r=e.sent).data.success){e.next=8;break}throw Error("Error al limpiar logs");case 8:return e.abrupt("return",r.data.data);case 11:throw e.prev=11,e.t0=e.catch(1),k(a=(null===(s=e.t0.response)||void 0===s||null===(s=s.data)||void 0===s||null===(s=s.error)||void 0===s?void 0:s.message)||"Error al limpiar logs"),Error(a);case 16:case"end":return e.stop()}},e,null,[[1,11]])})),[]),fetchMetrics:(0,s.useCallback)((0,l.Z)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),k(null),e.next=5,x.hi.get("/system-config/metrics");case 5:if(!(t=e.sent).data.success){e.next=10;break}v(t.data.data.metrics),e.next=11;break;case 10:throw Error("Error al obtener m\xe9tricas");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),k((null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.error)||void 0===r?void 0:r.message)||"Error al obtener m\xe9tricas"),console.error("Error fetching metrics:",e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])})),[])}}var p=r(57437);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(){var e,t=h(),r=t.config,a=t.loading,n=t.error,i=t.fetchSystemConfig,o=t.updateSystemConfig,x=(0,s.useState)({siteName:"",siteDescription:"",maintenanceMode:!1,allowRegistration:!0,maxFileUploadSize:10,sessionTimeout:60,emailNotifications:!0,backupRetentionDays:30,logLevel:"info",maxLoginAttempts:5,passwordMinLength:8,requirePasswordComplexity:!0}),g=x[0],v=x[1],b=(0,s.useState)(!1),j=b[0],y=b[1],N=(0,s.useState)(null),w=N[0],k=N[1];(0,s.useEffect)(function(){i()},[i]),(0,s.useEffect)(function(){if(r){var e,t,s;v({siteName:r.siteName||"",siteDescription:r.siteDescription||"",maintenanceMode:r.maintenanceMode||!1,allowRegistration:null===(e=r.allowRegistration)||void 0===e||e,maxFileUploadSize:r.maxFileUploadSize||10,sessionTimeout:r.sessionTimeout||60,emailNotifications:null===(t=r.emailNotifications)||void 0===t||t,backupRetentionDays:r.backupRetentionDays||30,logLevel:r.logLevel||"info",maxLoginAttempts:r.maxLoginAttempts||5,passwordMinLength:r.passwordMinLength||8,requirePasswordComplexity:null===(s=r.requirePasswordComplexity)||void 0===s||s})}},[r]);var D=function(e,t){v(function(r){return f(f({},r),{},(0,c.Z)({},e,t))}),k(null)},C=(e=(0,l.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,y(!0),k(null),e.next=6,o(g);case 6:k("Configuraci\xf3n guardada exitosamente"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error saving config:",e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])})),function(t){return e.apply(this,arguments)});return a&&!r?(0,p.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,p.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[n&&(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:n}),w&&(0,p.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:w}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Configuraci\xf3n General"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Sitio"}),(0,p.jsx)(m.I,{id:"siteName",type:"text",value:g.siteName,onChange:function(e){return D("siteName",e.target.value)},required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"siteDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n del Sitio"}),(0,p.jsx)(m.I,{id:"siteDescription",type:"text",value:g.siteDescription,onChange:function(e){return D("siteDescription",e.target.value)}})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{id:"maintenanceMode",type:"checkbox",checked:g.maintenanceMode,onChange:function(e){return D("maintenanceMode",e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,p.jsx)("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm text-gray-900",children:"Modo de Mantenimiento"})]}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{id:"allowRegistration",type:"checkbox",checked:g.allowRegistration,onChange:function(e){return D("allowRegistration",e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,p.jsx)("label",{htmlFor:"allowRegistration",className:"ml-2 block text-sm text-gray-900",children:"Permitir Registro de Usuarios"})]}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{id:"emailNotifications",type:"checkbox",checked:g.emailNotifications,onChange:function(e){return D("emailNotifications",e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,p.jsx)("label",{htmlFor:"emailNotifications",className:"ml-2 block text-sm text-gray-900",children:"Notificaciones por Email"})]})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Archivos y Sesiones"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"maxFileUploadSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tama\xf1o M\xe1ximo de Archivo (MB)"}),(0,p.jsx)(m.I,{id:"maxFileUploadSize",type:"number",min:"1",max:"100",value:g.maxFileUploadSize,onChange:function(e){return D("maxFileUploadSize",parseInt(e.target.value))},required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiempo de Sesi\xf3n (minutos)"}),(0,p.jsx)(m.I,{id:"sessionTimeout",type:"number",min:"5",max:"1440",value:g.sessionTimeout,onChange:function(e){return D("sessionTimeout",parseInt(e.target.value))},required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"backupRetentionDays",className:"block text-sm font-medium text-gray-700 mb-1",children:"Retenci\xf3n de Respaldos (d\xedas)"}),(0,p.jsx)(m.I,{id:"backupRetentionDays",type:"number",min:"1",max:"365",value:g.backupRetentionDays,onChange:function(e){return D("backupRetentionDays",parseInt(e.target.value))},required:!0})]})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Seguridad"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"maxLoginAttempts",className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe1ximo Intentos de Login"}),(0,p.jsx)(m.I,{id:"maxLoginAttempts",type:"number",min:"1",max:"10",value:g.maxLoginAttempts,onChange:function(e){return D("maxLoginAttempts",parseInt(e.target.value))},required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"passwordMinLength",className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud M\xednima de Contrase\xf1a"}),(0,p.jsx)(m.I,{id:"passwordMinLength",type:"number",min:"6",max:"50",value:g.passwordMinLength,onChange:function(e){return D("passwordMinLength",parseInt(e.target.value))},required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"logLevel",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel de Logs"}),(0,p.jsxs)("select",{id:"logLevel",value:g.logLevel,onChange:function(e){return D("logLevel",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,p.jsx)("option",{value:"error",children:"Error"}),(0,p.jsx)("option",{value:"warn",children:"Warning"}),(0,p.jsx)("option",{value:"info",children:"Info"}),(0,p.jsx)("option",{value:"debug",children:"Debug"})]})]})]}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{id:"requirePasswordComplexity",type:"checkbox",checked:g.requirePasswordComplexity,onChange:function(e){return D("requirePasswordComplexity",e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,p.jsx)("label",{htmlFor:"requirePasswordComplexity",className:"ml-2 block text-sm text-gray-900",children:"Requerir Complejidad en Contrase\xf1as"})]})]}),(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsx)(u.z,{type:"submit",disabled:j,children:j?"Guardando...":"Guardar Configuraci\xf3n"})})]})}function b(){var e,t,r=h(),a=r.backups,n=r.loading,i=r.error,c=r.backupPagination,o=r.fetchBackups,x=r.createBackup,g=r.restoreBackup,f=(0,s.useState)(!1),v=f[0],b=f[1],j=(0,s.useState)(""),y=j[0],N=j[1],w=(0,s.useState)(!1),k=w[0],D=w[1],C=(0,s.useState)(null),O=C[0],S=C[1];(0,s.useEffect)(function(){o()},[o]);var E=(e=(0,l.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,D(!0),e.next=5,x(y||void 0);case 5:N(""),b(!1),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error creating backup:",e.t0);case 13:return e.prev=13,D(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])})),function(t){return e.apply(this,arguments)}),P=(t=(0,l.Z)(d().mark(function e(t){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\xbfEst\xe1 seguro de que desea restaurar este respaldo? Esta acci\xf3n no se puede deshacer.")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,S(t),e.next=6,g(t);case 6:alert("Respaldo restaurado exitosamente"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error restoring backup:",e.t0);case 12:return e.prev=12,S(null),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),function(e){return t.apply(this,arguments)}),M=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][t])},L=function(e){o(e,c.limit)};return(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Respaldos de Base de Datos"}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Gestione los respaldos de la base de datos del sistema"})]}),(0,p.jsx)(u.z,{onClick:function(){return b(!0)},children:"Crear Respaldo"})]}),i&&(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),(0,p.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n&&0===a.length?(0,p.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===a.length?(0,p.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay respaldos disponibles"}):(0,p.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map(function(e){return(0,p.jsx)("li",{className:"px-6 py-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("div",{className:"flex-1",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-blue-600 font-medium",children:"\uD83D\uDCBE"})})}),(0,p.jsxs)("div",{className:"ml-4",children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.filename}),e.description&&(0,p.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),(0,p.jsxs)("div",{className:"text-xs text-gray-400",children:[M(e.size)," • Creado por"," ",e.createdBy," • ",new Date(e.createdAt).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})}),(0,p.jsx)("div",{className:"flex items-center space-x-2",children:(0,p.jsx)(u.z,{variant:"outline",size:"sm",onClick:function(){return P(e.id)},disabled:O===e.id,children:O===e.id?"Restaurando...":"Restaurar"})})]})},e.id)})})}),c.totalPages>1&&(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(c.page-1)*c.limit+1," ","a"," ",Math.min(c.page*c.limit,c.total)," ","de ",c.total," respaldos"]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(u.z,{variant:"outline",size:"sm",onClick:function(){return L(c.page-1)},disabled:c.page<=1,children:"Anterior"}),(0,p.jsx)(u.z,{variant:"outline",size:"sm",onClick:function(){return L(c.page+1)},disabled:c.page>=c.totalPages,children:"Siguiente"})]})]}),v&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,p.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Crear Nuevo Respaldo"}),(0,p.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n (opcional)"}),(0,p.jsx)(m.I,{id:"description",type:"text",value:y,onChange:function(e){return N(e.target.value)},placeholder:"Descripci\xf3n del respaldo..."})]}),(0,p.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,p.jsx)(u.z,{type:"button",variant:"outline",onClick:function(){b(!1),N("")},disabled:k,children:"Cancelar"}),(0,p.jsx)(u.z,{type:"submit",disabled:k,children:k?"Creando...":"Crear Respaldo"})]})]})]})})]})}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(){var e,t=h(),r=t.logs,a=t.loading,n=t.error,i=t.logPagination,o=t.fetchLogs,x=t.cleanupLogs,g=(0,s.useState)({level:"",startDate:"",endDate:""}),f=g[0],v=g[1],b=(0,s.useState)(!1),j=b[0],N=b[1],w=(0,s.useState)(30),k=w[0],D=w[1];(0,s.useEffect)(function(){o()},[o]);var C=function(e,t){v(function(r){return y(y({},r),{},(0,c.Z)({},e,t))})},O=(e=(0,l.Z)(d().mark(function e(){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar logs anteriores a ".concat(k," d\xedas?"))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,N(!0),e.next=6,x(k);case 6:t=e.sent,alert("Se eliminaron ".concat(t.deletedCount," logs antiguos")),o(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error cleaning up logs:",e.t0);case 14:return e.prev=14,N(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])})),function(){return e.apply(this,arguments)}),S=function(e){o({page:e,limit:i.limit,level:f.level||void 0,startDate:f.startDate||void 0,endDate:f.endDate||void 0})};return(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Logs del Sistema"}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Visualice y gestione los logs del sistema"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(m.I,{type:"number",value:k,onChange:function(e){return D(parseInt(e.target.value))},min:"1",max:"365",className:"w-20"}),(0,p.jsx)(u.z,{variant:"outline",onClick:O,disabled:j,children:j?"Limpiando...":"Limpiar Logs"})]})]}),(0,p.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel"}),(0,p.jsxs)("select",{id:"level",value:f.level,onChange:function(e){return C("level",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,p.jsx)("option",{value:"",children:"Todos los niveles"}),(0,p.jsx)("option",{value:"error",children:"Error"}),(0,p.jsx)("option",{value:"warn",children:"Warning"}),(0,p.jsx)("option",{value:"info",children:"Info"}),(0,p.jsx)("option",{value:"debug",children:"Debug"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),(0,p.jsx)(m.I,{id:"startDate",type:"datetime-local",value:f.startDate,onChange:function(e){return C("startDate",e.target.value)}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),(0,p.jsx)(m.I,{id:"endDate",type:"datetime-local",value:f.endDate,onChange:function(e){return C("endDate",e.target.value)}})]}),(0,p.jsxs)("div",{className:"flex items-end gap-2",children:[(0,p.jsx)(u.z,{onClick:function(){o({page:1,limit:i.limit,level:f.level||void 0,startDate:f.startDate||void 0,endDate:f.endDate||void 0})},children:"Aplicar Filtros"}),(0,p.jsx)(u.z,{variant:"outline",onClick:function(){v({level:"",startDate:"",endDate:""}),o({page:1,limit:i.limit})},children:"Limpiar"})]})]})}),n&&(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:n}),(0,p.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a&&0===r.length?(0,p.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===r.length?(0,p.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay logs disponibles"}):(0,p.jsx)("ul",{className:"divide-y divide-gray-200",children:r.map(function(e){return(0,p.jsx)("li",{className:"px-6 py-4",children:(0,p.jsxs)("div",{className:"flex items-start",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("span",{className:"text-lg",children:{error:"\uD83D\uDD34",warn:"\uD83D\uDFE1",info:"\uD83D\uDD35",debug:"⚪"}[e.level]||"⚪"})}),(0,p.jsxs)("div",{className:"ml-3 flex-1",children:[(0,p.jsx)("div",{className:"flex items-center justify-between",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({error:"bg-red-100 text-red-800",warn:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800",debug:"bg-gray-100 text-gray-800"}[e.level]||"bg-gray-100 text-gray-800"),children:e.level.toUpperCase()}),(0,p.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})}),(0,p.jsxs)("div",{className:"mt-1",children:[(0,p.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),e.metadata&&Object.keys(e.metadata).length>0&&(0,p.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:(0,p.jsxs)("details",{children:[(0,p.jsx)("summary",{className:"cursor-pointer hover:text-gray-700",children:"Ver metadatos"}),(0,p.jsx)("pre",{className:"mt-1 bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})]})})]})]})]})},e.id)})})}),i.totalPages>1&&(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(i.page-1)*i.limit+1," a"," ",Math.min(i.page*i.limit,i.total)," ","de ",i.total," logs"]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(u.z,{variant:"outline",size:"sm",onClick:function(){return S(i.page-1)},disabled:i.page<=1,children:"Anterior"}),(0,p.jsx)(u.z,{variant:"outline",size:"sm",onClick:function(){return S(i.page+1)},disabled:i.page>=i.totalPages,children:"Siguiente"})]})]})]})}function w(){var e,t,r,a,n=h(),i=n.metrics,l=n.loading,c=n.error,o=n.fetchMetrics,d=(0,s.useState)(!1),m=d[0],x=d[1];(0,s.useEffect)(function(){o()},[o]),(0,s.useEffect)(function(){var e;return m&&(e=setInterval(function(){o()},3e4)),function(){e&&clearInterval(e)}},[m,o]);var g=function(e){if(0===e)return"0 MB";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["MB","GB","TB"][t])},f=function(e){return e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500"};return l&&!i?(0,p.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}):i?(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"M\xe9tricas del Sistema"}),(0,p.jsx)("p",{className:"text-sm text-gray-500",children:"Monitoreo en tiempo real del estado del sistema"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{id:"autoRefresh",type:"checkbox",checked:m,onChange:function(e){return x(e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,p.jsx)("label",{htmlFor:"autoRefresh",className:"ml-2 block text-sm text-gray-900",children:"Auto-actualizar"})]}),(0,p.jsx)(u.z,{variant:"outline",onClick:o,disabled:l,children:l?"Actualizando...":"Actualizar"})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,p.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-green-600",children:"⏱️"})})}),(0,p.jsxs)("div",{className:"ml-4",children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Tiempo Activo"}),(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(t=Math.floor((e=i.uptime)/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),t>0?"".concat(t,"d ").concat(r,"h ").concat(a,"m"):r>0?"".concat(r,"h ").concat(a,"m"):"".concat(a,"m"))})]})]})}),(0,p.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-blue-600",children:"\uD83D\uDC65"})})}),(0,p.jsxs)("div",{className:"ml-4",children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Usuarios Activos"}),(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:i.activeUsers})]})]})}),(0,p.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-purple-600",children:"\uD83D\uDCC8"})})}),(0,p.jsxs)("div",{className:"ml-4",children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Req/min"}),(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:i.requestsPerMinute})]})]})}),(0,p.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-orange-600",children:"\uD83D\uDCCA"})})}),(0,p.jsxs)("div",{className:"ml-4",children:[(0,p.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Registros"}),(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:i.databaseStats.totalRecords.toLocaleString()})]})]})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,p.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,p.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Uso de Memoria"}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,p.jsxs)("span",{children:["Usado: ",g(i.memoryUsage.used)]}),(0,p.jsxs)("span",{children:["Total: ",g(i.memoryUsage.total)]})]}),(0,p.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,p.jsx)("div",{className:"h-2 rounded-full ".concat(f(i.memoryUsage.percentage)),style:{width:"".concat(i.memoryUsage.percentage,"%")}})}),(0,p.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[i.memoryUsage.percentage,"% utilizado"]})]})]}),(0,p.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,p.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Uso de Disco"}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,p.jsxs)("span",{children:["Usado: ",g(i.diskUsage.used)]}),(0,p.jsxs)("span",{children:["Total: ",g(i.diskUsage.total)]})]}),(0,p.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,p.jsx)("div",{className:"h-2 rounded-full ".concat(f(i.diskUsage.percentage)),style:{width:"".concat(i.diskUsage.percentage,"%")}})}),(0,p.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[i.diskUsage.percentage,"% utilizado"]})]})]})]}),(0,p.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,p.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estad\xedsticas de Base de Datos"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.databaseStats.totalTables}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Tablas"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.databaseStats.totalRecords.toLocaleString()}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Registros"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g(i.databaseStats.databaseSize)}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Tama\xf1o BD"})]})]})]}),(0,p.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,p.jsx)("div",{className:"flex items-center justify-center",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,p.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Sistema Operativo"})]})}),(0,p.jsxs)("div",{className:"text-center text-sm text-gray-500 mt-2",children:["\xdaltima actualizaci\xf3n: ",new Date().toLocaleTimeString("es-ES")]})]})]}):(0,p.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay m\xe9tricas disponibles"})}var k=r(69161);function D(){var e=(0,s.useState)("config"),t=e[0],r=e[1],l=h(),c=l.loading,o=l.error;return c?(0,p.jsx)(a.Z,{title:"Configuraci\xf3n del Sistema",allowedRoles:[i.i4.ADMIN],children:(0,p.jsx)(k.g,{})}):(0,p.jsx)(a.Z,{title:"Configuraci\xf3n del Sistema",allowedRoles:[i.i4.ADMIN],children:(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)(n.Zb,{children:(0,p.jsx)(n.aY,{className:"p-0",children:(0,p.jsx)("div",{className:"border-b border-gray-200",children:(0,p.jsx)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"config",label:"Configuraci\xf3n General",icon:"⚙️"},{id:"backups",label:"Respaldos",icon:"\uD83D\uDCBE"},{id:"logs",label:"Logs del Sistema",icon:"\uD83D\uDCCB"},{id:"metrics",label:"M\xe9tricas",icon:"\uD83D\uDCCA"}].map(function(e){return(0,p.jsxs)("button",{onClick:function(){return r(e.id)},className:"".concat(t===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"),children:[(0,p.jsx)("span",{children:e.icon}),e.label]},e.id)})})})})}),o&&(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),"config"===t&&(0,p.jsxs)(n.Zb,{children:[(0,p.jsx)(n.Ol,{children:(0,p.jsx)(n.ll,{children:"Configuraci\xf3n General del Sistema"})}),(0,p.jsx)(n.aY,{children:(0,p.jsx)(v,{})})]}),"backups"===t&&(0,p.jsxs)(n.Zb,{children:[(0,p.jsx)(n.Ol,{children:(0,p.jsx)(n.ll,{children:"Gesti\xf3n de Respaldos"})}),(0,p.jsx)(n.aY,{children:(0,p.jsx)(b,{})})]}),"logs"===t&&(0,p.jsxs)(n.Zb,{children:[(0,p.jsx)(n.Ol,{children:(0,p.jsx)(n.ll,{children:"Logs del Sistema"})}),(0,p.jsx)(n.aY,{children:(0,p.jsx)(N,{})})]}),"metrics"===t&&(0,p.jsxs)(n.Zb,{children:[(0,p.jsx)(n.Ol,{children:(0,p.jsx)(n.ll,{children:"M\xe9tricas del Sistema"})}),(0,p.jsx)(n.aY,{children:(0,p.jsx)(w,{})})]})]})})}},55010:function(e,t,r){"use strict";r.d(t,{I:function(){return d}});var s=r(84513),a=r(83366),n=r(39436),i=r(2265),l=r(57437),c=["className","error"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var d=(0,i.forwardRef)(function(e,t){var r=e.className,i=e.error,d=(0,a.Z)(e,c);return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,n.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",i&&"border-red-500 focus:ring-red-500",r),ref:t},d)),i&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});d.displayName="Input"},5813:function(e,t,r){"use strict";r.d(t,{hi:function(){return m},x1:function(){return u}});var s=r(84513),a=r(50090),n=r(35685),i=r(10026),l=r(30837),c=r.n(l);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=new(function(){var e,t,r,s,l,o;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:3001";(0,n.Z)(this,u),this.baseURL=e}return(0,i.Z)(u,[{key:"request",value:(e=(0,a.Z)(c().mark(function e(t){var r,s,a,n,i,l,o,u=arguments;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},s="".concat(this.baseURL).concat(t),a=d({headers:d({"Content-Type":"application/json"},r.headers)},r),(n=localStorage.getItem("accessToken"))&&(a.headers=d(d({},a.headers),{},{Authorization:"Bearer ".concat(n)})),e.prev=5,e.next=8,fetch(s,a);case 8:return i=e.sent,e.next=11,i.json();case 11:if(l=e.sent,i.ok){e.next=14;break}throw Error((null===(o=l.error)||void 0===o?void 0:o.message)||"API request failed");case 14:return e.abrupt("return",l);case 17:throw e.prev=17,e.t0=e.catch(5),console.error("API request error:",e.t0),e.t0;case 21:case"end":return e.stop()}},e,this,[[5,17]])})),function(t){return e.apply(this,arguments)})},{key:"get",value:(t=(0,a.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,{method:"GET"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"post",value:(r=(0,a.Z)(c().mark(function e(t,r){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0}));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"put",value:(s=(0,a.Z)(c().mark(function e(t,r){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0}));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"patch",value:(l=(0,a.Z)(c().mark(function e(t,r){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0}));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"delete",value:(o=(0,a.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,{method:"DELETE"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}]),u}()),m=u}},function(e){e.O(0,[816,738,873,880,92,232,971,529,744],function(){return e(e.s=12212)}),_N_E=e.O()}]);