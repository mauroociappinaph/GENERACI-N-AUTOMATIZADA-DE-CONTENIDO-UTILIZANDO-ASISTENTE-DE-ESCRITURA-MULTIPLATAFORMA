"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{25346:function(e,t,r){r.d(t,{P:function(){return f}});var n=r(66859),s=r(84513),a=r(50090),i=r(30837),c=r.n(i),l=r(2265),o=r(19245),d=r(55010),u=r(43998),x=r(57437);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){var t=e.onFilterChange,r=e.currentFilters,i=(0,l.useState)(!1),p=i[0],f=i[1],h=(0,l.useState)([]),g=h[0],y=h[1],j=(0,l.useState)({type:r.type||"",category:r.category||"",priority:r.priority||"",createdBy:r.createdBy||"",dateFrom:r.dateFrom||"",dateTo:r.dateTo||"",tags:r.tags||[]}),v=j[0],b=j[1];(0,l.useEffect)(function(){var e;(e=(0,a.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.c.getRecordTypes();case 3:(t=e.sent).success&&t.data&&y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading record types:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)})()},[]);var N=function(e,r){var a=m(m({},v),{},(0,s.Z)({},e,r));b(a),t(Object.entries(a).reduce(function(e,t){var r=(0,n.Z)(t,2),s=r[0],a=r[1];return""!==a&&null!=a&&(!Array.isArray(a)||a.length>0)&&(e[s]=a),e},{}))},w=Object.values(v).some(function(e){return""!==e&&null!=e&&(!Array.isArray(e)||e.length>0)});return(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)(o.z,{variant:"outline",size:"sm",onClick:function(){return f(!p)},children:[p?"Ocultar":"Mostrar"," Filtros Avanzados"]}),w&&(0,x.jsx)(o.z,{variant:"ghost",size:"sm",onClick:function(){b({type:"",category:"",priority:"",createdBy:"",dateFrom:"",dateTo:"",tags:[]}),t({})},className:"text-red-600 hover:text-red-700",children:"Limpiar Filtros"})]}),p&&(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Registro"}),(0,x.jsxs)("select",{className:"w-full h-10 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:v.type,onChange:function(e){return N("type",e.target.value)},children:[(0,x.jsx)("option",{value:"",children:"Todos los tipos"}),g.map(function(e){return(0,x.jsx)("option",{value:e,children:e},e)})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda"}),(0,x.jsx)(d.I,{placeholder:"Filtrar por categor\xeda",value:v.category,onChange:function(e){return N("category",e.target.value)}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),(0,x.jsxs)("select",{className:"w-full h-10 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:v.priority,onChange:function(e){return N("priority",e.target.value)},children:[(0,x.jsx)("option",{value:"",children:"Todas las prioridades"}),(0,x.jsx)("option",{value:"low",children:"Baja"}),(0,x.jsx)("option",{value:"medium",children:"Media"}),(0,x.jsx)("option",{value:"high",children:"Alta"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creado por (ID de usuario)"}),(0,x.jsx)(d.I,{placeholder:"ID del usuario",value:v.createdBy,onChange:function(e){return N("createdBy",e.target.value)}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha desde"}),(0,x.jsx)(d.I,{type:"date",value:v.dateFrom,onChange:function(e){return N("dateFrom",e.target.value)}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha hasta"}),(0,x.jsx)(d.I,{type:"date",value:v.dateTo,onChange:function(e){return N("dateTo",e.target.value)}})]})]}),w&&(0,x.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Filtros activos:"}),v.type&&(0,x.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Tipo: ",v.type,(0,x.jsx)("button",{onClick:function(){return N("type","")},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),v.category&&(0,x.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Categor\xeda: ",v.category,(0,x.jsx)("button",{onClick:function(){return N("category","")},className:"ml-1 text-green-600 hover:text-green-800",children:"\xd7"})]}),v.priority&&(0,x.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Prioridad: ",v.priority,(0,x.jsx)("button",{onClick:function(){return N("priority","")},className:"ml-1 text-yellow-600 hover:text-yellow-800",children:"\xd7"})]}),v.dateFrom&&(0,x.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Desde: ",v.dateFrom,(0,x.jsx)("button",{onClick:function(){return N("dateFrom","")},className:"ml-1 text-purple-600 hover:text-purple-800",children:"\xd7"})]}),v.dateTo&&(0,x.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Hasta: ",v.dateTo,(0,x.jsx)("button",{onClick:function(){return N("dateTo","")},className:"ml-1 text-purple-600 hover:text-purple-800",children:"\xd7"})]})]})]})}},75413:function(e,t,r){r.d(t,{w:function(){return c}});var n=r(19245),s=r(29368),a=r(32090),i=r(57437);function c(e){var t=e.records,r=e.loading,c=e.pagination,l=e.sortBy,o=e.sortOrder,d=e.onSortChange,u=e.onPageChange,x=e.onView,p=e.onEdit,m=e.onDelete,f=function(e){d(e,l===e&&"asc"===o?"desc":"asc")},h=function(e){return l!==e?"↕️":"asc"===o?"↑":"↓"},g=function(e){try{return(0,s.Q)(new Date(e),{addSuffix:!0,locale:a.es})}catch(t){return e}},y=function(e){switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return r?(0,i.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,i.jsx)("span",{className:"ml-2 text-gray-600",children:"Cargando registros..."})]}):0===t.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-gray-500 text-lg mb-2",children:"No se encontraron registros"}),(0,i.jsx)("p",{className:"text-gray-400",children:"Intente ajustar los filtros de b\xfasqueda"})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return f("type")},children:["Tipo ",h("type")]}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Datos"}),(0,i.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return f("metadata.priority")},children:["Prioridad ",h("metadata.priority")]}),(0,i.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:function(){return f("updatedAt")},children:["Actualizado ",h("updatedAt")]}),(0,i.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(function(e){var t,r;return(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.type}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id.slice(0,8),"..."]})]})})}),(0,i.jsx)("td",{className:"px-6 py-4",children:(0,i.jsxs)("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:[Object.keys(e.data).slice(0,3).map(function(t){return(0,i.jsxs)("div",{className:"truncate",children:[(0,i.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",String(e.data[t]).slice(0,50)]},t)}),Object.keys(e.data).length>3&&(0,i.jsxs)("div",{className:"text-gray-400 text-xs",children:["+",Object.keys(e.data).length-3," campos m\xe1s"]})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(y(null===(t=e.metadata)||void 0===t?void 0:t.priority)),children:(null===(r=e.metadata)||void 0===r?void 0:r.priority)||"normal"})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(e.updatedAt)}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,i.jsx)(n.z,{variant:"ghost",size:"sm",onClick:function(){return x(e.id)},children:"Ver"}),(0,i.jsx)(n.z,{variant:"ghost",size:"sm",onClick:function(){return p(e.id)},children:"Editar"}),(0,i.jsx)(n.z,{variant:"ghost",size:"sm",onClick:function(){return m(e.id)},className:"text-red-600 hover:text-red-700",children:"Eliminar"})]})]},e.id)})})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(c.page-1)*c.limit+1," a"," ",Math.min(c.page*c.limit,c.total)," de"," ",c.total," registros"]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)(n.z,{variant:"outline",size:"sm",onClick:function(){return u(c.page-1)},disabled:c.page<=1,children:"Anterior"}),Array.from({length:Math.min(5,c.totalPages)},function(e,t){var r=Math.max(1,c.page-2)+t;return r>c.totalPages?null:(0,i.jsx)(n.z,{variant:r===c.page?"primary":"outline",size:"sm",onClick:function(){return u(r)},children:r},r)}),(0,i.jsx)(n.z,{variant:"outline",size:"sm",onClick:function(){return u(c.page+1)},disabled:c.page>=c.totalPages,children:"Siguiente"})]})]})]})}},21594:function(e,t,r){r.d(t,{OL:function(){return u},_T:function(){return i},aR:function(){return a},f$:function(){return l},fY:function(){return c},le:function(){return x},xo:function(){return d},yT:function(){return o}});var n=r(19245),s=r(57437);function a(e){var t=e.open,r=e.onOpenChange,n=e.children;return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50",onClick:function(){return r(!1)}}),(0,s.jsx)("div",{className:"relative bg-white rounded-lg shadow-lg max-w-md w-full mx-4",children:n})]}):null}function i(e){var t=e.children;return(0,s.jsx)("div",{className:"p-6",children:t})}function c(e){var t=e.children;return(0,s.jsx)("div",{className:"mb-4",children:t})}function l(e){var t=e.children;return(0,s.jsx)("h2",{className:"text-lg font-semibold",children:t})}function o(e){var t=e.children;return(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:t})}function d(e){var t=e.children;return(0,s.jsx)("div",{className:"flex justify-end space-x-2 mt-6",children:t})}function u(e){var t=e.onClick,r=e.children,a=e.variant;return(0,s.jsx)(n.z,{onClick:t,variant:"destructive"===(void 0===a?"default":a)?"danger":"primary",children:r})}function x(e){var t=e.onClick,r=e.children;return(0,s.jsx)(n.z,{onClick:t,variant:"outline",children:r})}},55010:function(e,t,r){r.d(t,{I:function(){return d}});var n=r(84513),s=r(83366),a=r(39436),i=r(2265),c=r(57437),l=["className","error"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=(0,i.forwardRef)(function(e,t){var r=e.className,i=e.error,d=(0,s.Z)(e,l);return(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,a.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",i&&"border-red-500 focus:ring-red-500",r),ref:t},d)),i&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});d.displayName="Input"},12693:function(e,t,r){r.d(t,{A:function(){return a},p:function(){return s}});var n=r(29738),s=function(){return{toast:function(e){"destructive"===e.variant?n.ZP.error(e.description||e.title||"Error"):n.ZP.success(e.description||e.title||"Success")}}},a=function(e){"destructive"===e.variant?n.ZP.error(e.description||e.title||"Error"):n.ZP.success(e.description||e.title||"Success")}}}]);